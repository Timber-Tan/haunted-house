"use strict";(self.webpackChunkthreejs_demo=self.webpackChunkthreejs_demo||[]).push([[826],{579:(e,o,t)=>{var n=t(477),a=t(376),s=t(365),i=t(327),d=t(489);const r=new a.XS({width:400});r.hide();const p=new n.lLk;p.onStart=()=>{console.log("onStart")},p.onLoad=()=>{console.log("onLoad")},p.onProgress=()=>{console.log("onProgress")},p.onError=()=>{console.log("onError")};const l=new n.dpR(p),c=l.load("./textures/door/color.jpg"),w=l.load("./textures/door/alpha.jpg"),m=l.load("./textures/door/height.jpg"),h=l.load("./textures/door/normal.jpg"),g=l.load("./textures/door/ambientOcclusion.jpg"),u=l.load("./textures/door/metalness.jpg"),x=l.load("./textures/door/roughness.jpg"),M=l.load("./textures/bricks/color.jpg"),b=l.load("./textures/bricks/normal.jpg"),y=l.load("./textures/bricks/ambientOcclusion.jpg"),j=l.load("./textures/bricks/roughness.jpg"),v=l.load("./textures/grass/color.jpg"),E=l.load("./textures/grass/normal.jpg"),S=l.load("./textures/grass/ambientOcclusion.jpg"),k=l.load("./textures/grass/roughness.jpg");[v,E,S,k].forEach((e=>{e.repeat.set(8,8),e.wrapS=n.rpg,e.wrapT=n.rpg}));const z=new n.xsS,f=new n.CP7({antialias:!0});z.fog=new n.ybr(2500663,1,15),f.setPixelRatio(Math.min(2,window.devicePixelRatio)),f.setSize(window.innerWidth,window.innerHeight),f.setClearColor(2500663),f.domElement.addEventListener("dblclick",(e=>{d.Z.toggle(e.target)})),document.body.appendChild(f.domElement);const P=new n.cPb(60,window.innerWidth/window.innerHeight,.1,100);P.position.set(-5,5,10);const W=new n.Kj0(new n._12(20,20),new n.Wid({map:v,aoMap:S,roughnessMap:k,normalMap:E}));W.geometry.setAttribute("uv2",new n.TlE(W.geometry.attributes.uv.array,2)),W.receiveShadow=!0,W.rotation.x=.5*-Math.PI,W.rotation.y=0,z.add(W);const K=new n.ZAu;z.add(K);const L=new n.Kj0(new n.DvJ(4,2.5,4),new n.Wid({map:M,aoMap:y,roughnessMap:j,normalMap:b}));L.geometry.setAttribute("uv2",new n.TlE(L.geometry.attributes.uv.array,2)),L.position.y=1.25,K.add(L);const A=new n.Kj0(new n.b_z(3.5,1,4),new n.Wid({color:11755333}));A.position.y=3,A.rotation.y=.25*Math.PI,K.add(A);const C=new n.Kj0(new n._12(2.2,2.2,100,100),new n.Wid({map:c,aoMap:g,displacementMap:m,displacementScale:.1,metalnessMap:u,roughnessMap:x,normalMap:h,alphaMap:w,transparent:!0}));C.geometry.setAttribute("uv2",new n.TlE(C.geometry.attributes.uv.array,2)),C.position.z=2.01,C.position.y=1,K.add(C);const F=new n.xo$(1,16,16),R=new n.Wid({color:9029716}),G=new n.Kj0(F,R);G.scale.set(.5,.5,.5),G.position.set(.8,.2,2.2);const O=new n.Kj0(F,R);O.scale.set(.25,.25,.25),O.position.set(1.4,.1,2.1);const T=new n.Kj0(F,R);T.scale.set(.4,.4,.4),T.position.set(-.8,.1,2.2);const Z=new n.Kj0(F,R);Z.scale.set(.15,.15,.15),Z.position.set(-1,.05,2.6),K.add(G,O,T,Z);const _=new n.ZAu;z.add(_);const H=new n.DvJ(.6,.8,.2),I=new n.Wid({color:11712177});for(let e=0;e<50;e++){const e=Math.random()*Math.PI*2,o=6*Math.random()+3,t=Math.sin(e)*o,a=Math.cos(e)*o,s=new n.Kj0(H,I);s.castShadow=!0,s.position.set(t,.3,a),s.rotation.y=.4*(Math.random()-.5),s.rotation.z=.4*(Math.random()-.5),_.add(s)}const D=new n.Mig(12178943,.12);z.add(D),r.addFolder("ambientLight").add(D,"intensity").min(0).max(1).step(.01);const B=new n.Ox3(12178943,.12);B.position.set(4,5,-2),z.add(B);const J=new n.cBI(B,.2);J.visible=!1,z.add(J);const q=r.addFolder("moonLight");q.add(B,"intensity").min(0).max(1).step(.01),q.add(B.position,"x").min(-5).max(5).step(.01),q.add(B.position,"y").min(-5).max(5).step(.01),q.add(B.position,"z").min(-5).max(5).step(.01),q.add(J,"visible").name("helper");const U=new n.cek(16743750,1,7);U.position.set(0,2.2,2.7),K.add(U);const X=new n.xG9(U,.2);X.visible=!1,K.add(X);const Y=r.addFolder("doorLight");Y.add(U,"intensity").min(0).max(1).step(.01),Y.add(U.position,"x").min(-5).max(5).step(.01),Y.add(U.position,"y").min(-5).max(5).step(.01),Y.add(U.position,"z").min(-5).max(5).step(.01),Y.add(X,"visible").name("helper");const $=new n.cek(16711935,2,3),N=new n.cek(65535,2,3),Q=new n.cek(16776960,2,3);new n.xG9($,.2),new n.xG9(N,.2),new n.xG9(Q,.2),z.add($,N,Q),f.shadowMap.enabled=!0,f.shadowMap.type=n.ntZ,[B,U,$,N,Q,L,A,G,O,T,Z].forEach((e=>{e.castShadow=!0})),[W,A,L,G,O,T,Z].forEach((e=>{e.receiveShadow=!0})),[B,U,$,N,Q].forEach((e=>{e.shadow.mapSize.width=256,e.shadow.mapSize.height=256,e.shadow.camera.far=7}));const V=r.addFolder("controls"),ee=new s.z(P,f.domElement);ee.listenToKeyEvents(window),ee.autoRotate=!1,V.add(ee,"autoRotate"),ee.autoRotateSpeed=2,V.add(ee,"autoRotateSpeed").min(0).max(10).step(.1),ee.enableDamping=!0,V.add(ee,"enableDamping"),ee.dampingFactor=.05,V.add(ee,"dampingFactor").min(0).max(1).step(1e-4),ee.enabled=!0,V.add(ee,"enabled"),ee.enablePan=!1,V.add(ee,"enablePan");const oe=new n.y8_(2);z.add(oe),oe.visible=!1,V.add(oe,"visible").name("axesHelper"),window.addEventListener("resize",(()=>{P.aspect=window.innerWidth/window.innerHeight,P.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}));const te=new n.SUY,ne=()=>{const e=te.getElapsedTime(),o=.5*e;$.position.x=4*Math.cos(o),$.position.z=4*Math.sin(o),$.position.y=Math.sin(3*e);const t=.32*-e;N.position.x=5*Math.cos(t),N.position.z=5*Math.sin(t),N.position.y=Math.sin(4*e)+Math.sin(2.5*e);const n=.18*-e;Q.position.x=Math.cos(n)*(7+Math.sin(.32*e)),Q.position.z=Math.sin(n)*(7+Math.sin(.5*e)),Q.position.y=Math.sin(5*e)+Math.sin(2*e),ee.update(),f.render(z,P),requestAnimationFrame(ne)};if(i.Z.isWebGLAvailable())ne();else{const e=i.Z.getWebGLErrorMessage();document.getElementById("container").appendChild(e)}}},e=>{e.O(0,[216],(()=>(579,e(e.s=579)))),e.O()}]);
